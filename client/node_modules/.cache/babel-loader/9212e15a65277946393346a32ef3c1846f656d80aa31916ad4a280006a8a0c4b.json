{"ast":null,"code":"var _jsxFileName = \"c:\\\\coding\\\\calcalc\\\\client\\\\src\\\\components\\\\calendar\\\\CalendarContainer.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/components/calendar/CalendarContainer.jsx\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport axios from 'axios';\nimport { CalendarProvider, useCalendar } from '../../contexts/CalendarContext';\nimport LoadingSpinner from '../UI/LoadingSpinner';\nimport ErrorAlert from '../UI/ErrorAlert';\n\n// Create a custom event context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EventContext = /*#__PURE__*/React.createContext();\n\n// Setup the localizer for react-big-calendar\nconst localizer = momentLocalizer(moment);\n\n// The actual Calendar view component\nconst CalendarView = ({\n  onSelectSlot,\n  globalEvents = [],\n  setGlobalEvents\n}) => {\n  _s();\n  const [events, setEvents] = useState(globalEvents);\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [syncStatus, setSyncStatus] = useState({\n    lastSync: null,\n    isConnected: false,\n    inProgress: false\n  });\n\n  // Get calendar context\n  const {\n    dateRange,\n    updateDateRange,\n    changeView\n  } = useCalendar();\n\n  // Use the global events if provided, otherwise fetch them\n  useEffect(() => {\n    if (globalEvents && globalEvents.length > 0) {\n      setEvents(globalEvents);\n    } else {\n      fetchEvents();\n    }\n  }, [globalEvents]);\n\n  // Fetch events from API\n  const fetchEvents = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Use the date range in the API call if available\n      let response;\n      if (dateRange && dateRange.start && dateRange.end) {\n        const formattedStart = moment(dateRange.start).format('YYYY-MM-DD');\n        const formattedEnd = moment(dateRange.end).format('YYYY-MM-DD');\n        response = await axios.get(`/api/events/range/${formattedStart}/${formattedEnd}`);\n      } else {\n        response = await axios.get('/api/events');\n      }\n\n      // Transform the events for the calendar\n      const formattedEvents = response.data.map(event => ({\n        id: event.event_id || event.id,\n        title: event.summary || event.title || 'Untitled Event',\n        start: new Date(event.start_time || event.start),\n        end: new Date(event.end_time || event.end),\n        allDay: event.all_day || event.allDay || false,\n        income: event.income || 0,\n        expenses: event.expenses || 0,\n        venue: event.location || event.venue || '',\n        description: event.description || ''\n      }));\n      setEvents(formattedEvents);\n\n      // Update global events if setter is provided\n      if (setGlobalEvents) {\n        setGlobalEvents(formattedEvents);\n      }\n    } catch (err) {\n      console.error('Error fetching events:', err);\n      setError('Failed to load events. Please try again later.');\n\n      // Use mock data as fallback\n      const mockEvents = [{\n        id: 1,\n        title: 'Wedding at Grand Ballroom',\n        start: new Date(2025, 2, 15),\n        end: new Date(2025, 2, 16),\n        income: 3000,\n        expenses: 800,\n        venue: 'Grand Ballroom'\n      }, {\n        id: 2,\n        title: 'Corporate Event',\n        start: new Date(2025, 2, 20),\n        end: new Date(2025, 2, 20),\n        income: 2500,\n        expenses: 600,\n        venue: 'City Conference Center'\n      }];\n      setEvents(mockEvents);\n\n      // Update global events if setter is provided\n      if (setGlobalEvents) {\n        setGlobalEvents(mockEvents);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle manual sync\n  const handleManualSync = async () => {\n    setSyncStatus(prev => ({\n      ...prev,\n      inProgress: true\n    }));\n    try {\n      await axios.post('/api/google/sync');\n      setSyncStatus(prev => ({\n        ...prev,\n        lastSync: new Date(),\n        inProgress: false\n      }));\n      // Refresh events after sync\n      fetchEvents();\n    } catch (err) {\n      console.error('Sync error:', err);\n      setSyncStatus(prev => ({\n        ...prev,\n        inProgress: false\n      }));\n    }\n  };\n\n  // Handle date navigation\n  const handleNavigate = (date, view) => {\n    updateDateRange({\n      start: date,\n      view: view || dateRange.view\n    });\n  };\n\n  // Handle view change\n  const handleViewChange = view => {\n    changeView(view);\n  };\n\n  // Handle event click\n  const handleEventClick = event => {\n    setSelectedEvent(event);\n    setIsModalOpen(true);\n  };\n\n  // Handle creating a new event\n  const handleSelectSlot = slotInfo => {\n    // If parent component provided a handler, call it\n    if (onSelectSlot) {\n      onSelectSlot(slotInfo);\n    } else {\n      // Default behavior - open modal\n      setSelectedEvent({\n        start: slotInfo.start,\n        end: slotInfo.end,\n        title: 'New Event'\n      });\n      setIsModalOpen(true);\n    }\n  };\n\n  // Event styling\n  const eventStyleGetter = event => {\n    let style = {\n      backgroundColor: '#3174ad',\n      borderRadius: '4px',\n      opacity: 0.8,\n      color: 'white',\n      border: '0px',\n      display: 'block'\n    };\n\n    // Different color based on event status\n    if (event.status === 'tentative') {\n      style.backgroundColor = '#f39c12';\n    } else if (event.status === 'cancelled') {\n      style.backgroundColor = '#e74c3c';\n      style.textDecoration = 'line-through';\n    }\n    return {\n      style\n    };\n  };\n\n  // Loading state\n  if (isLoading && events.length === 0) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Error state\n  if (error && events.length === 0) {\n    return /*#__PURE__*/_jsxDEV(ErrorAlert, {\n      message: error,\n      onRetry: fetchEvents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-container h-full\",\n    children: /*#__PURE__*/_jsxDEV(Calendar, {\n      localizer: localizer,\n      events: events,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      style: {\n        height: '100%'\n      },\n      onSelectEvent: handleEventClick,\n      onSelectSlot: handleSelectSlot,\n      onNavigate: handleNavigate,\n      onView: handleViewChange,\n      selectable: true,\n      longPressThreshold: 250,\n      date: dateRange.start,\n      view: dateRange.view,\n      eventPropGetter: eventStyleGetter,\n      views: ['month', 'week', 'day', 'agenda'],\n      popup: true,\n      components: {\n        toolbar: props => /*#__PURE__*/_jsxDEV(CustomToolbar, {\n          ...props,\n          onSyncClick: handleManualSync,\n          isSyncing: syncStatus.inProgress,\n          isConnected: syncStatus.isConnected,\n          dateRange: dateRange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom toolbar component with sync button\n_s(CalendarView, \"ooWBMabw8Xzp+b4yDo7A1Co33Ao=\", false, function () {\n  return [useCalendar];\n});\n_c = CalendarView;\nconst CustomToolbar = toolbar => {\n  const goToBack = () => {\n    toolbar.onNavigate('PREV');\n  };\n  const goToNext = () => {\n    toolbar.onNavigate('NEXT');\n  };\n  const goToCurrent = () => {\n    toolbar.onNavigate('TODAY');\n  };\n  const label = () => {\n    const date = moment(toolbar.date);\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"rbc-toolbar-label\",\n      children: date.format('MMMM YYYY')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rbc-toolbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rbc-btn-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: goToCurrent,\n        children: \"Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: goToBack,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: goToNext,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), toolbar.onSyncClick && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: toolbar.onSyncClick,\n        disabled: toolbar.isSyncing || !toolbar.isConnected,\n        className: toolbar.isSyncing ? 'syncing' : '',\n        children: toolbar.isSyncing ? 'Syncing...' : 'Sync Calendar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rbc-toolbar-label\",\n      children: label()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rbc-btn-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => toolbar.onView('month'),\n        children: \"Month\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => toolbar.onView('week'),\n        children: \"Week\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => toolbar.onView('day'),\n        children: \"Day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => toolbar.onView('agenda'),\n        children: \"Agenda\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n\n// Main container component that provides context\n_c2 = CustomToolbar;\nfunction CalendarContainer({\n  onSelectSlot\n}) {\n  _s2();\n  const [events, setEvents] = useState([]);\n\n  // Create an event provider that can be accessed from the dashboard\n  return /*#__PURE__*/_jsxDEV(EventContext.Provider, {\n    value: {\n      events,\n      setEvents\n    },\n    children: /*#__PURE__*/_jsxDEV(CalendarProvider, {\n      children: /*#__PURE__*/_jsxDEV(CalendarView, {\n        onSelectSlot: onSelectSlot,\n        globalEvents: events,\n        setGlobalEvents: setEvents\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 301,\n    columnNumber: 5\n  }, this);\n}\n_s2(CalendarContainer, \"fh+hzEDekCPeegwQh0J56A4r3Ew=\");\n_c3 = CalendarContainer;\nexport default CalendarContainer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"CalendarView\");\n$RefreshReg$(_c2, \"CustomToolbar\");\n$RefreshReg$(_c3, \"CalendarContainer\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Calendar","momentLocalizer","moment","axios","CalendarProvider","useCalendar","LoadingSpinner","ErrorAlert","jsxDEV","_jsxDEV","EventContext","createContext","localizer","CalendarView","onSelectSlot","globalEvents","setGlobalEvents","_s","events","setEvents","selectedEvent","setSelectedEvent","isModalOpen","setIsModalOpen","isLoading","setIsLoading","error","setError","syncStatus","setSyncStatus","lastSync","isConnected","inProgress","dateRange","updateDateRange","changeView","length","fetchEvents","response","start","end","formattedStart","format","formattedEnd","get","formattedEvents","data","map","event","id","event_id","title","summary","Date","start_time","end_time","allDay","all_day","income","expenses","venue","location","description","err","console","mockEvents","handleManualSync","prev","post","handleNavigate","date","view","handleViewChange","handleEventClick","handleSelectSlot","slotInfo","eventStyleGetter","style","backgroundColor","borderRadius","opacity","color","border","display","status","textDecoration","fileName","_jsxFileName","lineNumber","columnNumber","message","onRetry","className","children","startAccessor","endAccessor","height","onSelectEvent","onNavigate","onView","selectable","longPressThreshold","eventPropGetter","views","popup","components","toolbar","props","CustomToolbar","onSyncClick","isSyncing","_c","goToBack","goToNext","goToCurrent","label","type","onClick","disabled","_c2","CalendarContainer","_s2","Provider","value","_c3","$RefreshReg$"],"sources":["c:/coding/calcalc/client/src/components/calendar/CalendarContainer.jsx"],"sourcesContent":["// src/components/calendar/CalendarContainer.jsx\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\nimport moment from 'moment';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport axios from 'axios';\r\nimport { CalendarProvider, useCalendar } from '../../contexts/CalendarContext';\r\nimport LoadingSpinner from '../UI/LoadingSpinner';\r\nimport ErrorAlert from '../UI/ErrorAlert';\r\n\r\n// Create a custom event context\r\nexport const EventContext = React.createContext();\r\n\r\n// Setup the localizer for react-big-calendar\r\nconst localizer = momentLocalizer(moment);\r\n\r\n// The actual Calendar view component\r\nconst CalendarView = ({ onSelectSlot, globalEvents = [], setGlobalEvents }) => {\r\n  const [events, setEvents] = useState(globalEvents);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [syncStatus, setSyncStatus] = useState({\r\n    lastSync: null,\r\n    isConnected: false,\r\n    inProgress: false\r\n  });\r\n  \r\n  // Get calendar context\r\n  const { dateRange, updateDateRange, changeView } = useCalendar();\r\n\r\n  // Use the global events if provided, otherwise fetch them\r\n  useEffect(() => {\r\n    if (globalEvents && globalEvents.length > 0) {\r\n      setEvents(globalEvents);\r\n    } else {\r\n      fetchEvents();\r\n    }\r\n  }, [globalEvents]);\r\n\r\n  // Fetch events from API\r\n  const fetchEvents = async () => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    try {\r\n      // Use the date range in the API call if available\r\n      let response;\r\n      if (dateRange && dateRange.start && dateRange.end) {\r\n        const formattedStart = moment(dateRange.start).format('YYYY-MM-DD');\r\n        const formattedEnd = moment(dateRange.end).format('YYYY-MM-DD');\r\n        response = await axios.get(`/api/events/range/${formattedStart}/${formattedEnd}`);\r\n      } else {\r\n        response = await axios.get('/api/events');\r\n      }\r\n      \r\n      // Transform the events for the calendar\r\n      const formattedEvents = response.data.map(event => ({\r\n        id: event.event_id || event.id,\r\n        title: event.summary || event.title || 'Untitled Event',\r\n        start: new Date(event.start_time || event.start),\r\n        end: new Date(event.end_time || event.end),\r\n        allDay: event.all_day || event.allDay || false,\r\n        income: event.income || 0,\r\n        expenses: event.expenses || 0,\r\n        venue: event.location || event.venue || '',\r\n        description: event.description || ''\r\n      }));\r\n      \r\n      setEvents(formattedEvents);\r\n      \r\n      // Update global events if setter is provided\r\n      if (setGlobalEvents) {\r\n        setGlobalEvents(formattedEvents);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching events:', err);\r\n      setError('Failed to load events. Please try again later.');\r\n      \r\n      // Use mock data as fallback\r\n      const mockEvents = [\r\n        {\r\n          id: 1,\r\n          title: 'Wedding at Grand Ballroom',\r\n          start: new Date(2025, 2, 15),\r\n          end: new Date(2025, 2, 16),\r\n          income: 3000,\r\n          expenses: 800,\r\n          venue: 'Grand Ballroom'\r\n        },\r\n        {\r\n          id: 2,\r\n          title: 'Corporate Event',\r\n          start: new Date(2025, 2, 20),\r\n          end: new Date(2025, 2, 20),\r\n          income: 2500,\r\n          expenses: 600,\r\n          venue: 'City Conference Center'\r\n        }\r\n      ];\r\n      \r\n      setEvents(mockEvents);\r\n      \r\n      // Update global events if setter is provided\r\n      if (setGlobalEvents) {\r\n        setGlobalEvents(mockEvents);\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle manual sync\r\n  const handleManualSync = async () => {\r\n    setSyncStatus(prev => ({\r\n      ...prev,\r\n      inProgress: true\r\n    }));\r\n    \r\n    try {\r\n      await axios.post('/api/google/sync');\r\n      setSyncStatus(prev => ({\r\n        ...prev,\r\n        lastSync: new Date(),\r\n        inProgress: false\r\n      }));\r\n      // Refresh events after sync\r\n      fetchEvents();\r\n    } catch (err) {\r\n      console.error('Sync error:', err);\r\n      setSyncStatus(prev => ({\r\n        ...prev,\r\n        inProgress: false\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Handle date navigation\r\n  const handleNavigate = (date, view) => {\r\n    updateDateRange({\r\n      start: date,\r\n      view: view || dateRange.view\r\n    });\r\n  };\r\n\r\n  // Handle view change\r\n  const handleViewChange = (view) => {\r\n    changeView(view);\r\n  };\r\n\r\n  // Handle event click\r\n  const handleEventClick = (event) => {\r\n    setSelectedEvent(event);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  // Handle creating a new event\r\n  const handleSelectSlot = (slotInfo) => {\r\n    // If parent component provided a handler, call it\r\n    if (onSelectSlot) {\r\n      onSelectSlot(slotInfo);\r\n    } else {\r\n      // Default behavior - open modal\r\n      setSelectedEvent({ \r\n        start: slotInfo.start, \r\n        end: slotInfo.end, \r\n        title: 'New Event' \r\n      });\r\n      setIsModalOpen(true);\r\n    }\r\n  };\r\n\r\n  // Event styling\r\n  const eventStyleGetter = (event) => {\r\n    let style = {\r\n      backgroundColor: '#3174ad',\r\n      borderRadius: '4px',\r\n      opacity: 0.8,\r\n      color: 'white',\r\n      border: '0px',\r\n      display: 'block'\r\n    };\r\n    \r\n    // Different color based on event status\r\n    if (event.status === 'tentative') {\r\n      style.backgroundColor = '#f39c12';\r\n    } else if (event.status === 'cancelled') {\r\n      style.backgroundColor = '#e74c3c';\r\n      style.textDecoration = 'line-through';\r\n    }\r\n    \r\n    return { style };\r\n  };\r\n\r\n  // Loading state\r\n  if (isLoading && events.length === 0) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  // Error state\r\n  if (error && events.length === 0) {\r\n    return (\r\n      <ErrorAlert \r\n        message={error} \r\n        onRetry={fetchEvents}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"calendar-container h-full\">\r\n      <Calendar\r\n        localizer={localizer}\r\n        events={events}\r\n        startAccessor=\"start\"\r\n        endAccessor=\"end\"\r\n        style={{ height: '100%' }}\r\n        onSelectEvent={handleEventClick}\r\n        onSelectSlot={handleSelectSlot}\r\n        onNavigate={handleNavigate}\r\n        onView={handleViewChange}\r\n        selectable={true}\r\n        longPressThreshold={250}\r\n        date={dateRange.start}\r\n        view={dateRange.view}\r\n        eventPropGetter={eventStyleGetter}\r\n        views={['month', 'week', 'day', 'agenda']}\r\n        popup\r\n        components={{\r\n          toolbar: props => (\r\n            <CustomToolbar \r\n              {...props} \r\n              onSyncClick={handleManualSync}\r\n              isSyncing={syncStatus.inProgress}\r\n              isConnected={syncStatus.isConnected}\r\n              dateRange={dateRange}\r\n            />\r\n          )\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Custom toolbar component with sync button\r\nconst CustomToolbar = (toolbar) => {\r\n  const goToBack = () => {\r\n    toolbar.onNavigate('PREV');\r\n  };\r\n\r\n  const goToNext = () => {\r\n    toolbar.onNavigate('NEXT');\r\n  };\r\n\r\n  const goToCurrent = () => {\r\n    toolbar.onNavigate('TODAY');\r\n  };\r\n\r\n  const label = () => {\r\n    const date = moment(toolbar.date);\r\n    return (\r\n      <span className=\"rbc-toolbar-label\">{date.format('MMMM YYYY')}</span>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"rbc-toolbar\">\r\n      <div className=\"rbc-btn-group\">\r\n        <button type=\"button\" onClick={goToCurrent}>Today</button>\r\n        <button type=\"button\" onClick={goToBack}>Back</button>\r\n        <button type=\"button\" onClick={goToNext}>Next</button>\r\n        {/* Add the sync button directly to the toolbar */}\r\n        {toolbar.onSyncClick && (\r\n          <button \r\n            type=\"button\" \r\n            onClick={toolbar.onSyncClick}\r\n            disabled={toolbar.isSyncing || !toolbar.isConnected}\r\n            className={toolbar.isSyncing ? 'syncing' : ''}\r\n          >\r\n            {toolbar.isSyncing ? 'Syncing...' : 'Sync Calendar'}\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className=\"rbc-toolbar-label\">{label()}</div>\r\n      <div className=\"rbc-btn-group\">\r\n        <button type=\"button\" onClick={() => toolbar.onView('month')}>Month</button>\r\n        <button type=\"button\" onClick={() => toolbar.onView('week')}>Week</button>\r\n        <button type=\"button\" onClick={() => toolbar.onView('day')}>Day</button>\r\n        <button type=\"button\" onClick={() => toolbar.onView('agenda')}>Agenda</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Main container component that provides context\r\nfunction CalendarContainer({ onSelectSlot }) {\r\n  const [events, setEvents] = useState([]);\r\n  \r\n  // Create an event provider that can be accessed from the dashboard\r\n  return (\r\n    <EventContext.Provider value={{ events, setEvents }}>\r\n      <CalendarProvider>\r\n        <CalendarView \r\n          onSelectSlot={onSelectSlot} \r\n          globalEvents={events} \r\n          setGlobalEvents={setEvents} \r\n        />\r\n      </CalendarProvider>\r\n    </EventContext.Provider>\r\n  );\r\n}\r\n\r\nexport default CalendarContainer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}